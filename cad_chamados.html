<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Abertura de Chamado</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- Menu lateral fixo -->
  <nav class="side-menu" id="sideMenu">
    <div class="hamburger" id="hamburger">&#9776;</div>
    <ul>
      <li><a href="Umbrella Corp.html"><strong>Umbrella Corp</strong></a></li>
      <li><a href="dadosuser.html">Meu Cadastro</a></li>
      <li><a href="#colaboradores">Colaboradores</a></li>
      <li><a href="messaging_center.html">Chamados</a></li>
      <li><a href="#meu-banco-dados">Meu Banco de Dados</a></li>
      <li><a href="login.html" class="logout-button">Sair</a></li>
    </ul>
  </nav>

  <!-- Barra superior -->
  <header class="top-bar">
    <h1>Abertura de Chamado</h1>
  </header>

  <!-- Conteúdo principal -->
  <div class="main-content" id="mainContent">
    <div class="content-container">
      <form id="formChamado">
        <div class="form-group">
          <label for="nome">Nome:</label>
          <input type="text" id="nome" name="nome" required />
        </div>

        <div class="form-group">
          <label for="departamento">Departamento:</label>
          <input type="text" id="departamento" name="departamento" required />
        </div>

        <div class="form-group">
          <label for="email">E-mail:</label>
          <input type="email" id="email" name="email" required />
        </div>

        <div class="form-group">
          <label for="categoria">Categoria do Problema:</label>
          <select id="categoria" name="categoria" required>
            <option value="">Selecione</option>
            <option value="rede">Rede</option>
            <option value="hardware">Hardware</option>
            <option value="software">Software</option>
            <option value="email">Email</option>
            <option value="licensas">Licensas</option>
            <option value="outro">Outro</option>
          </select>
        </div>

        <div class="form-group">
          <label for="colaborador">Colaborador Responsável:</label>
          <select id="colaborador" name="colaborador" required>
            <option value="">Selecione a categoria primeiro</option>
          </select>
        </div>

        <div class="form-group">
          <label for="descricao">Descrição do Problema:</label>
          <textarea id="descricao" name="descricao" rows="5" required></textarea>
        </div>

        <button type="submit" class="login-button">Enviar Chamado</button>
      </form>
    </div>
  </div>

  <!-- Scripts -->
  <script>
    const hamburger = document.getElementById('hamburger');
    const sideMenu = document.getElementById('sideMenu');
    const topBar = document.querySelector('.top-bar');
    const mainContent = document.querySelector('.main-content');

    hamburger.addEventListener('click', () => {
      sideMenu.classList.toggle('expanded');
      topBar.classList.toggle('expanded');
      mainContent.classList.toggle('expanded');
    });

    // Relacionamento de categoria → colaboradores
    const colaboradoresPorCategoria = {
      rede: ['Guilherme Castilho', 'John Wilson'],
      hardware: ['Prietro Jefferson'],
      software: ['Prietro Jefferson'],
      email: ['Rafaela Toder'],
      licensas: ['Guilherme Castilho'],
      outro: ['Guilherme Castilho', 'Rafaela Toder', 'John Wilson', 'Prietro Jefferson']
    };

    const categoriaSelect = document.getElementById('categoria');
    const colaboradorSelect = document.getElementById('colaborador');

    categoriaSelect.addEventListener('change', () => {
      const categoria = categoriaSelect.value;
      const colaboradores = colaboradoresPorCategoria[categoria] || [];

      colaboradorSelect.innerHTML = '<option value="">Selecione</option>';
      colaboradores.forEach(nome => {
        const option = document.createElement('option');
        option.value = nome;
        option.textContent = nome;
        colaboradorSelect.appendChild(option);
      });
    });

    const form = document.getElementById("formChamado");
    form.addEventListener("submit", function(e) {
      e.preventDefault();
      alert("Chamado enviado com sucesso!");
      form.reset();
    });
  </script>
</body>
</html>

